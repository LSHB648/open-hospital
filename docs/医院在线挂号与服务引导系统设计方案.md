# 医院在线挂号与服务引导系统设计方案

## 目录
* [1. 文档目的](#1-文档目的)
* [2. 修订记录](#2-修订记录)
* [3. 需求汇总](#3-需求汇总)
	* [3.1 后台管理员用户平台](#31-后台管理员用户平台)
    * [3.2 前台门诊用户平台](#32-前台门诊用户平台)
    * [3.3 前台医生用户平台](#33-前台医生用户平台)
*	[4. 系统架构](#4-系统架构)
	* [4.1 前端技术栈选型](#41-前端技术栈选型)
	* [4.2 静态后端技术栈选型](#42-静态后端技术栈选型)
	* [4.3 动态后端技术栈选型](#43-动态后端技术栈选型)
	* [4.4 高可用与高性能方案](#44-高可用与高性能方案)
*	[5. 核心流程](#5-核心流程)
	* [5.1 注册用户](#51-注册用户)
	* [5.2 注销用户](#52-注销用户)
	* [5.3 查询单个用户](#53-查询单个用户)
	* [5.4 编辑单个用户](#54-编辑单个用户)
	* [5.5 查询所有用户](#55-查询所有用户)
	* [5.6 用户登录](#56-用户登录)
	* [5.7 用户登出](#57-用户登出)
	* [5.8 注册科室](#58-注册科室)
	* [5.9 注销科室](#59-注销科室)
	* [5.10 查询单个科室](#510-查询单个科室)
	* [5.11 编辑单个科室](#511-编辑单个科室)
	* [5.12 查询所有科室](#512-查询所有科室)
	* [5.13 科室注册医生](#513-科室注册医生)
	* [5.14 科室注销医生](#514-科室注销医生)
	* [5.15 注册排班](#515-注册排班)
	* [5.16 注销排班](#516-注销排班)
	* [5.17 查询所有排班](#517-查询所有排班)
	* [5.18 编辑导医信息](#518-编辑导医信息)
	* [5.19 查询导医信息](#519-查询导医信息)
	* [5.20 新增挂号](#520-新增挂号)
	* [5.21 取消挂号](#521-取消挂号)
	* [5.22 修改挂号](#522-修改挂号)
	* [5.23 查询所有挂号](#523-查询所有挂号)
	* [5.24 呼叫挂号](#524-呼叫挂号)
	* [5.25 新增处方](#525-新增处方)
	* [5.26 查询所有处方](#526-查询所有处方)
	* [5.27 新增费用单](#527-新增费用单)
	* [5.28 在线支付](#528-在线支付)
*	[6. WEBSOCKET-API](#6-WEBSOCKET-API)
	* [6.1 注册用户](#61-注册用户)
	* [6.2 注销用户](#62-注销用户)
	* [6.3 查询单个用户](#63-查询单个用户)
	* [6.4 编辑单个用户](#64-编辑单个用户)
	* [6.5 查询所有用户](#65-查询所有用户)
	* [6.6 用户登录](#66-用户登录)
	* [6.7 用户登出](#67-用户登出)
	* [6.8 注册科室](#68-注册科室)
	* [6.9 注销科室](#69-注销科室)
	* [6.10 查询单个科室](#610-查询单个科室)
	* [6.11 编辑单个科室](#611-编辑单个科室)
	* [6.12 查询所有科室](#612-查询所有科室)
	* [6.13 科室注册医生](#613-科室注册医生)
	* [6.14 科室注销医生](#614-科室注销医生)
	* [6.15 注册排班](#615-注册排班)
	* [6.16 注销排班](#616-注销排班)
	* [6.17 查询所有排班](#617-查询所有排班)
	* [6.18 编辑导医信息](#618-编辑导医信息)
	* [6.19 查询导医信息](#619-查询导医信息)
	* [6.20 新增挂号](#620-新增挂号)
	* [6.21 取消挂号](#621-取消挂号)
	* [6.22 修改挂号](#622-修改挂号)
	* [6.23 查询所有挂号](#623-查询所有挂号)
	* [6.24 呼叫挂号](#624-呼叫挂号)
	* [6.25 新增处方](#625-新增处方)
	* [6.26 查询所有处方](#626-查询所有处方)
	* [6.27 新增费用单](#627-新增费用单)
	* [6.28 在线支付](#628-在线支付)
*	[7. 数据结构](#7-数据结构)
	* [7.1 User](#71-User)
	* [7.2 Department](#72-Department)
	* [7.3 Guide](#73-Guide)
	* [7.4 Registration](#74-Registration)
	* [7.5 Prescription](#75-Prescription)
	* [7.6 Charge](#76-Charge)
*	[8. 错误码](#8-错误码)

## 1 文档目的
```
本文通过对医院在线挂号与服务引导系统的需求汇总分析，设计该系统的架构，梳理核心流程，并且设计完整的WEBSOCKET-API，标注相关的数据结构以及错误码，用于指导后续的系统开发，测试以及上线交付

其中第一章描述文档目的，第二章标明修订记录，第三章对需求做汇总分析，第四章进行系统架构设计，第五章梳理核心流程，第六章设计WEBSOCKET-API，第七章描述核心数据结构，第八章标注错误码
```

## 2 修订记录
```
20190417   设计方案初稿
```

## 3 需求汇总
```
通过医院在线挂号与服务引导系统的设计开发

    1. 学习HTML5，NODE.JS等WEB前端设计技术，设计一款医院在线挂号，服务引导系统
    2. 能引导用户选择合适的门诊科室与大夫，在线挂号
    3. 系统可以提供门诊，检查，缴费，取药路线图
    4. 系统可以模拟门诊，检查处理进度，并通过语音，文字信息提醒用户

同时需要考虑如下关键问题

    1. 门诊用户的信用评价
    2. 门诊/检查进度预测

为了降低系统复杂度，可以不考虑预约，而直接支付挂号费
```

### 3.1 后台管理员用户平台
```
后台管理员用户平台需包含如下功能

    1. 门诊/检查科室信息管理
    2. 门诊/检查医生信息管理
    3. 门诊/检查排班表
    4. 导医信息管理
    5. 系统用户管理(门诊用户/医生/挂号员/系统管理员)
```

### 3.2 前台门诊用户平台
```
前台门诊用户平台需包含如下功能

    1. 系统注册/登入
    2. 患者基本信息编辑(支持多患者关联的医疗卡号)
    3. 导医服务
    4. 在线挂号(同一个患者可同时挂多个科室号，在线支付)
    5. 调整/取消挂号(推迟时间，更换医生)
    6. 门诊排队信息查询，语音自助提示服务
    7. 医药费，检查费单浏览与缴费
    8. 检查排队信息查询，语音自助提示服务
    9. 检查单(预期，实际)出来时间
```

### 3.3 前台医生用户平台
```
前台医生用户平台需包含如下功能

    1. 叫号
    2. 出具检查单，开处方(简单模拟，时长可随机)
```

## 4 系统架构
![医院在线挂号与服务引导系统架构图](./system-framework.jpg "医院在线挂号与服务引导系统架构图")

### 4.1 前端技术栈选型
```
语言框架：vue.js
文本规范：html5
通信协议：与静态后端的通信协议为http1.1，与动态后端的通信协议为websocket

客户端手机浏览器需要升级到新版本，以支持html5
```

### 4.2 静态后端技术栈选型
```
网关接入：lvs
服务组件：nginx
文本格式：html/css/jpg/mp4等静态数据
```

### 4.3 动态后端技术栈选型
```
网关接入：lvs
开发语言：node.js
缓存组件：redis
数据库组件：mysql
通信协议：websocket
文本格式：json动态数据
```

### 4.4 高可用与高性能方案
```
如上图所示，通过负载均衡技术，可横向拓展的集群化部署方式以及主从部署模式，保障服务的高可用与高性能

负载均衡：lvs集群化部署，可横向拓展，对流量做四层分发，同时保障了服务的高可用与高性能
服务池：静态后端与动态后端可分离部署，出于节省成本的考虑也可混部；静态后端支持集群化部署，可横向拓展，保障服务的高可用与高性能；动态后端支持集群化部署，可横向拓展，保障服务的高可用与高性能
redis服务：主从模式部署，官方推荐的sentinel方案保障高可用
mysql服务：主从模式部署，vip切换保障高可用
```

## 5 核心流程
### 5.1 注册用户
```
系统管理员：系统管理员唯一，拥有超级权限，系统部署交付之后，通过SQL语句直接注入mysql数据库完成注册
医生：由系统管理员通过后台管理员用户平台注册，流程统一如下图
挂号员：由系统管理员通过后台管理员用户平台注册，流程统一如下图
门诊用户：由门诊用户通过前台门诊用户平台自助注册，流程统一如下图
```
![注册用户流程图](./register-user.jpg "注册用户流程图")

### 5.2 注销用户
```
系统管理员可以注销医生用户，挂号员用户以及门诊用户，流程如下图
```
![注销用户流程图](./deregister-user.jpg "注销用户流程图")

### 5.3 查询单个用户
```
用户可以查询自己的详情信息，包括系统管理员，医生用户，挂号员用户以及门诊用户，流程如下图
```
![查询单个用户流程图](./get-user.jpg "查询单个用户流程图")

### 5.4 编辑单个用户
```
用户可以编辑自己的详情信息，比如说修改医疗卡号，只支持门诊用户编辑，系统管理员，医生用户以及挂号员用户不支持编辑，流程如下图
```
![编辑单个用户流程图](./edit-user.jpg "编辑单个用户流程图")

### 5.5 查询所有用户
```
系统管理员可以查询所有用户的信息，包括医生用户，挂号员用户以及门诊用户，流程如下图
```
![查询所有用户流程图](./list-user.jpg "查询所有用户流程图")

### 5.6 用户登录
```
支持所有用户登录，包括系统管理员，医生用户，挂号员用户以及门诊用户，流程如下图
```
![用户登录流程图](./log-in.jpg "用户登录流程图")

### 5.7 用户登出
```
支持所有用户退出登录，包括系统管理员，医生用户，挂号员用户以及门诊用户，流程如下图
```
![用户登出流程图](./log-out.jpg "用户登出流程图")

### 5.8 注册科室
```
注册新的科室，需要系统管理员权限，流程如下图
```
![注册科室流程图](./register-department.jpg "注册科室流程图")

### 5.9 注销科室
```
注销已经存在的科室，需要系统管理员权限，流程如下图
```
![注销科室流程图](./deregister-department.jpg "注销科室流程图")

### 5.10 查询单个科室
```
查询单个科室的详细信息，流程如下图
```
![查询单个科室流程图](./get-department.jpg "查询单个科室流程图")

### 5.11 编辑单个科室
```
编辑单个科室的信息，需要系统管理员权限，流程如下图
```
![编辑单个科室流程图](./edit-department.jpg "编辑单个科室流程图")

### 5.12 查询所有科室
```
查询所有科室信息，支持所有类型用户查询，流程如下图
```
![查询所有科室流程图](./list-department.jpg "查询所有科室流程图")

### 5.13 科室注册医生
```
往科室中注册新的医生，一个医生只能注册到一个科室中，但是一个科室可以有多个医生，需要系统管理员权限，流程如下图
```
![科室注册医生流程图](./add-doctor.jpg "科室注册医生流程图")

### 5.14 科室注销医生
```
将医生从科室中注销，需要系统管理员权限，流程如下图
```
![科室注销医生流程图](./remove-doctor.jpg "科室注销医生流程图")

### 5.15 注册排班
```
添加排班项，比如说将眼科的赵医生加入排班，需要系统管理员权限，流程如下图
```
![注册排班流程图](./add-schedule.jpg "注册排班流程图")

### 5.16 注销排班
```
删除排班项，比如说将眼科的李医生从排班中删除，需要系统管理员权限，流程如下图
```
![注销排班流程图](./remove-schedule.jpg "注销排班流程图")

### 5.17 查询所有排班
```
查询所有排班项，普通权限即可调用，流程如下图
```
![查询所有排班流程图](./list-schedule.jpg "查询所有排班流程图")

### 5.18 编辑导医信息
```
编辑导医信息，需要系统管理员权限，流程如下图
```
![编辑导医信息流程图](./edit-guide.jpg "编辑导医信息流程图")

### 5.19 查询导医信息
```
查询导医信息，普通权限即可访问，流程如下图
```
![查询导医信息流程图](./get-guide.jpg "查询导医信息流程图")

### 5.20 新增挂号
```
新增挂号，需要门诊用户权限，流程如下图
```
![新增挂号流程图](./add-registration.jpg "新增挂号流程图")

### 5.21 取消挂号
```
取消挂号，需要门诊用户权限，流程如下图
```
![取消挂号流程图](./remove-registration.jpg "取消挂号流程图")

### 5.22 修改挂号
```
修改挂号，需要门诊用户权限，流程如下图
```
![修改挂号流程图](./edit-registration.jpg "修改挂号流程图")

### 5.23 查询所有挂号
```
查询所有挂号，支持门诊用户和医生用户查询，流程如下图
```
![查询所有挂号流程图](./list-registration.jpg "查询所有挂号流程图")

### 5.24 呼叫挂号
```
呼叫挂号，需要医生用户权限，流程如下图
```
![呼叫挂号流程图](./call-registration.jpg "呼叫挂号流程图")

### 5.25 新增处方
```
新增处方，需要医生用户权限，流程如下图
```
![新增处方流程图](./add-prescription.jpg "新增处方流程图")

### 5.26 查询所有处方
```
查询所有处方，支持门诊用户和医生用户查询，流程如下图
```
![查询所有处方流程图](./list-prescription.jpg "查询所有处方流程图")

### 5.27 新增费用单
```
医生开了处方之后，给该处方新增费用单，处方和费用单是一对一的关系，需要医生用户权限，流程如下图
```
![新增费用单流程图](./add-charge.jpg "新增费用单流程图")

### 5.28 在线支付
```
在线支付费用单，需要门诊用户权限，流程如下图
```
![在线支付流程图](./online-pay.jpg "在线支付流程图")

## 6 WEBSOCKET-API
### 6.1 注册用户
#### 描述
```
支持医生用户，挂号员用户以及门诊用户的注册，同步接口
```

#### WEBSOCKET请求
```
* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-RegisterUser
    * 是否必须：Yes

* Name
    * 描述：用户名，登录系统的时候需要用到
    * 类型：String
    * 默认值：无
    * 约束：1-63位小写字母，数字，或者中划线组成，以字母开头，字母或者数字结尾
    * 是否必须：Yes

* PassWord
    * 描述：密码
    * 类型：String
    * 默认值：无
    * 约束：1-63位小写字母，数字，或者中划线组成，以字母开头，字母或者数字结尾，base64编码
    * 是否必须：Yes

* Type
    * 描述：用户类型，Doctor-医生用户，Registrar-挂号员，Patient-门诊用户
    * 类型：Enum
    * 默认值：无
    * 约束：无
    * 是否必须：Yes

* RealName
    * 描述：真实用户名，叫号的时候需要用到
    * 类型：Enum
    * 默认值：无
    * 约束：无
    * 是否必须：Yes

* Cookie
    * 描述：系统管理员cookie
    * 类型：String
    * 默认值：无
    * 约束：由动态后端返回，系统管理员注册医生用户和挂号员用户时，带给动态后端用于权限认证
    * 是否必须：No
```

#### WEBSOCKET响应
```
* Category
    * 描述：消息类型，Response-响应，Push-推送
    * 类型：Enum
    * 默认值：空
    * 约束：固定值-Response
    * 是否必须：Yes

* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-RegisterUser
    * 是否必须：No

* Code
    * 描述：错误码
    * 类型: Int
    * 是否必须：Yes

* Message
    * 描述：错误详细信息
    * 类型: String
    * 是否必须：Yes
```

### 6.2 注销用户
#### 描述
```
支持医生用户，挂号员用户以及门诊用户的注销，需要系统管理员权限，同步接口
```

#### WEBSOCKET请求
```
* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-DeRegisterUser
    * 是否必须：Yes

* UserId
    * 描述：用户ID
    * 类型：String
    * 默认值：空
    * 约束：无
    * 是否必须：Yes

* Cookie
    * 描述：系统管理员cookie
    * 类型：String
    * 默认值：无
    * 约束：由动态后端返回
    * 是否必须：Yes
```

#### WEBSOCKET响应
```
* Category
    * 描述：消息类型，Response-响应，Push-推送
    * 类型：Enum
    * 默认值：空
    * 约束：固定值-Response
    * 是否必须：Yes

* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-DeRegisterUser
    * 是否必须：No

* Code
    * 描述：错误码
    * 类型: Int
    * 是否必须：Yes

* Message
    * 描述：错误详细信息
    * 类型: String
    * 是否必须：Yes
```

### 6.3 查询单个用户
#### 描述
```
查询单个用户详情，只支持用户查询自己的详情，同步接口
```

#### WEBSOCKET请求
```
* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-GetUser
    * 是否必须：Yes

* Cookie
    * 描述：用户cookie
    * 类型：String
    * 默认值：无
    * 约束：由动态后端返回
    * 是否必须：Yes
```

#### WEBSOCKET响应
```
* Category
    * 描述：消息类型，Response-响应，Push-推送
    * 类型：Enum
    * 默认值：空
    * 约束：固定值-Response
    * 是否必须：Yes

* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-GetUser
    * 是否必须：No

* Code
    * 描述：错误码
    * 类型: Int
    * 是否必须：Yes

* Message
    * 描述：错误详细信息
    * 类型: String
    * 是否必须：Yes

* User
    * 描述：用户信息
    * 类型: User，详见数据结构User
    * 是否必须：No
```

### 6.4 编辑单个用户
#### 描述
```
编辑单个用户详情，只支持门诊用户编辑自己的详情，同步接口
```

#### WEBSOCKET请求
```
* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-EditUser
    * 是否必须：Yes

* CardNumber
    * 描述：医疗卡号
    * 类型：String
    * 默认值：无
    * 约束：11位小写字母或者数字组成
    * 是否必须：Yes

* Cookie
    * 描述：用户cookie
    * 类型：String
    * 默认值：无
    * 约束：由动态后端返回
    * 是否必须：Yes
```

#### WEBSOCKET响应
```
* Category
    * 描述：消息类型，Response-响应，Push-推送
    * 类型：Enum
    * 默认值：空
    * 约束：固定值-Response
    * 是否必须：Yes

* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-EditUser
    * 是否必须：No

* Code
    * 描述：错误码
    * 类型: Int
    * 是否必须：Yes

* Message
    * 描述：错误详细信息
    * 类型: String
    * 是否必须：Yes
```

### 6.5 查询所有用户
#### 描述
```
查询所有医生用户，挂号员用户以及门诊用户的信息，需要系统管理员权限，同步接口
```

#### WEBSOCKET请求
```
* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-ListUser
    * 是否必须：Yes

* Cookie
    * 描述：系统管理员cookie
    * 类型：String
    * 默认值：无
    * 约束：由动态后端返回
    * 是否必须：Yes
```

#### WEBSOCKET响应
```
* Category
    * 描述：消息类型，Response-响应，Push-推送
    * 类型：Enum
    * 默认值：空
    * 约束：固定值-Response
    * 是否必须：Yes

* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-ListUser
    * 是否必须：No

* Code
    * 描述：错误码
    * 类型: Int
    * 是否必须：Yes

* Message
    * 描述：错误详细信息
    * 类型: String
    * 是否必须：Yes

* Users
    * 描述：用户信息列表
    * 类型: Array of User，详见数据结构User
    * 是否必须：No
```

### 6.6 用户登录
#### 描述
```
用户登录系统，同步接口
```

#### WEBSOCKET请求
```
* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-LogIn
    * 是否必须：Yes

* Name
    * 描述：用户名
    * 类型：String
    * 默认值：无
    * 约束：1-63位小写字母，数字，或者中划线组成，以字母开头，字母或者数字结尾
    * 是否必须：Yes

* PassWord
    * 描述：密码
    * 类型：String
    * 默认值：无
    * 约束：1-63位小写字母，数字，或者中划线组成，以字母开头，字母或者数字结尾，base64编码
    * 是否必须：Yes

* Type
    * 描述：用户类型，Doctor-医生用户，Registrar-挂号员，Patient-门诊用户
    * 类型：Enum
    * 默认值：无
    * 约束：无
    * 是否必须：Yes
```

#### WEBSOCKET响应
```
* Category
    * 描述：消息类型，Response-响应，Push-推送
    * 类型：Enum
    * 默认值：空
    * 约束：固定值-Response
    * 是否必须：Yes

* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-LogIn
    * 是否必须：No

* Code
    * 描述：错误码
    * 类型: Int
    * 是否必须：Yes

* Message
    * 描述：错误详细信息
    * 类型: String
    * 是否必须：Yes

* Cookie
    * 描述：用户Cookie
    * 类型: String
    * 是否必须：No
```

### 6.7 用户登出
#### 描述
```
用户登出系统，同步接口
```

#### WEBSOCKET请求
```
* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-LogOut
    * 是否必须：Yes

* Cookie
    * 描述：用户cookie
    * 类型：String
    * 默认值：无
    * 约束：由动态后端返回
    * 是否必须：Yes
```

#### WEBSOCKET响应
```
* Category
    * 描述：消息类型，Response-响应，Push-推送
    * 类型：Enum
    * 默认值：空
    * 约束：固定值-Response
    * 是否必须：Yes

* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-LogOut
    * 是否必须：No

* Code
    * 描述：错误码
    * 类型: Int
    * 是否必须：Yes

* Message
    * 描述：错误详细信息
    * 类型: String
    * 是否必须：Yes
```

### 6.8 注册科室
#### 描述
```
注册科室，需要系统管理员权限，同步接口
```

#### WEBSOCKET请求
```
* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-RegisterDepartment
    * 是否必须：Yes

* Name
    * 描述：科室名称
    * 类型：String
    * 默认值：空
    * 约束：支持中文，长度为1-63个字符
    * 是否必须：Yes

* Description
    * 描述：科室介绍
    * 类型：String
    * 默认值：空
    * 约束：支持中文，长度为1-254个字符
    * 是否必须：Yes

* Cookie
    * 描述：用户cookie
    * 类型：String
    * 默认值：无
    * 约束：由动态后端返回
    * 是否必须：Yes
```

#### WEBSOCKET响应
```
* Category
    * 描述：消息类型，Response-响应，Push-推送
    * 类型：Enum
    * 默认值：空
    * 约束：固定值-Response
    * 是否必须：Yes

* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-RegisterDepartment
    * 是否必须：No

* Code
    * 描述：错误码
    * 类型: Int
    * 是否必须：Yes

* Message
    * 描述：错误详细信息
    * 类型: String
    * 是否必须：Yes
```

## 6.9 注销科室
#### 描述
```
注销科室，需要系统管理员权限，同步接口
```

#### WEBSOCKET请求
```
* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-DeRegisterDepartment
    * 是否必须：Yes

* DepartmentId
    * 描述：科室ID
    * 类型：String
    * 默认值：空
    * 约束：无
    * 是否必须：Yes

* Cookie
    * 描述：用户cookie
    * 类型：String
    * 默认值：无
    * 约束：由动态后端返回
    * 是否必须：Yes
```

#### WEBSOCKET响应
```
* Category
    * 描述：消息类型，Response-响应，Push-推送
    * 类型：Enum
    * 默认值：空
    * 约束：固定值-Response
    * 是否必须：Yes

* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-DeRegisterDepartment
    * 是否必须：No

* Code
    * 描述：错误码
    * 类型: Int
    * 是否必须：Yes

* Message
    * 描述：错误详细信息
    * 类型: String
    * 是否必须：Yes
```

## 6.10 查询单个科室
#### 描述
```
查询单个科室详细信息，支持所有类型用户查询，同步接口
```

#### WEBSOCKET请求
```
* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-GetDepartment
    * 是否必须：Yes

* DepartmentId
    * 描述：科室ID
    * 类型：String
    * 默认值：空
    * 约束：无
    * 是否必须：Yes

* Cookie
    * 描述：用户cookie
    * 类型：String
    * 默认值：无
    * 约束：由动态后端返回
    * 是否必须：Yes
```

#### WEBSOCKET响应
```
* Category
    * 描述：消息类型，Response-响应，Push-推送
    * 类型：Enum
    * 默认值：空
    * 约束：固定值-Response
    * 是否必须：Yes

* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-GetDepartment
    * 是否必须：No

* Code
    * 描述：错误码
    * 类型: Int
    * 是否必须：Yes

* Message
    * 描述：错误详细信息
    * 类型: String
    * 是否必须：Yes

* Department
    * 描述：科室信息
    * 类型: Department，详见数据结构Department
    * 是否必须：No
```

## 6.11 编辑单个科室
#### 描述
```
编辑单个科室信息，需要系统管理员权限，同步接口
```

#### WEBSOCKET请求
```
* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-EditDepartment
    * 是否必须：Yes

* DepartmentId
    * 描述：科室ID
    * 类型：String
    * 默认值：空
    * 约束：无
    * 是否必须：Yes

* Name
    * 描述：科室名称
    * 类型：String
    * 默认值：空
    * 约束：支持中文，长度为1-63个字符
    * 是否必须：Yes

* Description
    * 描述：科室介绍
    * 类型：String
    * 默认值：空
    * 约束：支持中文，长度为1-254个字符
    * 是否必须：Yes

* Cookie
    * 描述：用户cookie
    * 类型：String
    * 默认值：无
    * 约束：由动态后端返回
    * 是否必须：Yes
```

#### WEBSOCKET响应
```
* Category
    * 描述：消息类型，Response-响应，Push-推送
    * 类型：Enum
    * 默认值：空
    * 约束：固定值-Response
    * 是否必须：Yes

* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-EditDepartment
    * 是否必须：No

* Code
    * 描述：错误码
    * 类型: Int
    * 是否必须：Yes

* Message
    * 描述：错误详细信息
    * 类型: String
    * 是否必须：Yes
```

# 6.12 查询所有科室
#### 描述
```
查询所有科室信息，支持所有类型用户查询，同步接口
```

#### WEBSOCKET请求
```
* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-ListDepartment
    * 是否必须：Yes

* Cookie
    * 描述：系统管理员cookie
    * 类型：String
    * 默认值：无
    * 约束：由动态后端返回
    * 是否必须：Yes
```

#### WEBSOCKET响应
```
* Category
    * 描述：消息类型，Response-响应，Push-推送
    * 类型：Enum
    * 默认值：空
    * 约束：固定值-Response
    * 是否必须：Yes

* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-ListDepartment
    * 是否必须：No

* Code
    * 描述：错误码
    * 类型: Int
    * 是否必须：Yes

* Message
    * 描述：错误详细信息
    * 类型: String
    * 是否必须：Yes

* Departments
    * 描述：科室信息列表
    * 类型: Array of Department，详见数据结构Department
    * 是否必须：No
```

### 6.13 科室注册医生
#### 描述
```
往科室中注册新的医生，需要系统管理员权限，同步接口
```

#### WEBSOCKET请求
```
* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-AddDoctor
    * 是否必须：Yes

* UserId
    * 描述：用户ID
    * 类型：String
    * 默认值：空
    * 约束：系统管理员先注册门诊医生用户，再往科室中注册医生
    * 是否必须：Yes

* DepartmentId
    * 描述：科室ID
    * 类型：String
    * 默认值：空
    * 约束：无
    * 是否必须：Yes

* Description
    * 描述：医生简介
    * 类型：String
    * 默认值：空
    * 约束：支持中文，长度为1-254个字符
    * 是否必须：Yes

* Cookie
    * 描述：用户cookie
    * 类型：String
    * 默认值：无
    * 约束：由动态后端返回
    * 是否必须：Yes
```

#### WEBSOCKET响应
```
* Category
    * 描述：消息类型，Response-响应，Push-推送
    * 类型：Enum
    * 默认值：空
    * 约束：固定值-Response
    * 是否必须：Yes

* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-AddDoctor
    * 是否必须：No

* Code
    * 描述：错误码
    * 类型: Int
    * 是否必须：Yes

* Message
    * 描述：错误详细信息
    * 类型: String
    * 是否必须：Yes
```

### 6.14 科室注销医生
#### 描述
```
从科室中注销医生，需要系统管理员权限，同步接口
```

#### WEBSOCKET请求
```
* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-RemoveDoctor
    * 是否必须：Yes

* UserId
    * 描述：医生ID
    * 类型：String
    * 默认值：空
    * 约束：无
    * 是否必须：Yes

* DepartmentId
    * 描述：科室ID
    * 类型：String
    * 默认值：空
    * 约束：无
    * 是否必须：Yes

* Cookie
    * 描述：用户cookie
    * 类型：String
    * 默认值：无
    * 约束：由动态后端返回
    * 是否必须：Yes
```

#### WEBSOCKET响应
```
* Category
    * 描述：消息类型，Response-响应，Push-推送
    * 类型：Enum
    * 默认值：空
    * 约束：固定值-Response
    * 是否必须：Yes

* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-RemoveDoctor
    * 是否必须：No

* Code
    * 描述：错误码
    * 类型: Int
    * 是否必须：Yes

* Message
    * 描述：错误详细信息
    * 类型: String
    * 是否必须：Yes
```

### 6.15 注册排班
#### 描述
```
添加排班表，需要系统管理员权限，同步接口
```

#### WEBSOCKET请求
```
* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-AddSchedule
    * 是否必须：Yes

* UserId
    * 描述：用户ID
    * 类型：String
    * 默认值：空
    * 约束：无
    * 是否必须：Yes

* DepartmentId
    * 描述：科室ID
    * 类型：String
    * 默认值：空
    * 约束：无
    * 是否必须：Yes

* Cookie
    * 描述：用户cookie
    * 类型：String
    * 默认值：无
    * 约束：由动态后端返回
    * 是否必须：Yes
```

#### WEBSOCKET响应
```
* Category
    * 描述：消息类型，Response-响应，Push-推送
    * 类型：Enum
    * 默认值：空
    * 约束：固定值-Response
    * 是否必须：Yes

* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-AddSchedule
    * 是否必须：No

* Code
    * 描述：错误码
    * 类型: Int
    * 是否必须：Yes

* Message
    * 描述：错误详细信息
    * 类型: String
    * 是否必须：Yes
```

### 6.16 注销排班
#### 描述
```
删除排班项，需要系统管理员权限，同步接口
```

#### WEBSOCKET请求
```
* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-RemoveSchedule
    * 是否必须：Yes

* UserId
    * 描述：用户ID
    * 类型：String
    * 默认值：空
    * 约束：无
    * 是否必须：Yes

* DepartmentId
    * 描述：科室ID
    * 类型：String
    * 默认值：空
    * 约束：无
    * 是否必须：Yes

* Cookie
    * 描述：用户cookie
    * 类型：String
    * 默认值：无
    * 约束：由动态后端返回
    * 是否必须：Yes
```

#### WEBSOCKET响应
```
* Category
    * 描述：消息类型，Response-响应，Push-推送
    * 类型：Enum
    * 默认值：空
    * 约束：固定值-Response
    * 是否必须：Yes

* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-RemoveSchedule
    * 是否必须：No

* Code
    * 描述：错误码
    * 类型: Int
    * 是否必须：Yes

* Message
    * 描述：错误详细信息
    * 类型: String
    * 是否必须：Yes
```

### 6.17 查询所有排班
#### 描述
```
查询所有排班项，普通用户权限即可访问，同步接口
```

#### WEBSOCKET请求
```
* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-ListSchedule
    * 是否必须：Yes

* Cookie
    * 描述：用户cookie
    * 类型：String
    * 默认值：无
    * 约束：由动态后端返回
    * 是否必须：Yes
```

#### WEBSOCKET响应
```
* Category
    * 描述：消息类型，Response-响应，Push-推送
    * 类型：Enum
    * 默认值：空
    * 约束：固定值-Response
    * 是否必须：Yes

* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-ListSchedule
    * 是否必须：No

* Code
    * 描述：错误码
    * 类型: Int
    * 是否必须：Yes

* Message
    * 描述：错误详细信息
    * 类型: String
    * 是否必须：Yes

* Departments
    * 描述：科室信息列表
    * 类型: Array of Department，详见数据结构Department
    * 是否必须：No
```

### 6.18 编辑导医信息
#### 描述
```
编辑导医信息，需要系统管理员权限，同步接口
```

#### WEBSOCKET请求
```
* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-EditGuide
    * 是否必须：Yes

* Guide
    * 描述：导医信息
    * 类型：Guide，详见-Guide数据结构
    * 默认值：空
    * 约束：无
    * 是否必须：Yes

* Cookie
    * 描述：用户cookie
    * 类型：String
    * 默认值：无
    * 约束：由动态后端返回
    * 是否必须：Yes
```

#### WEBSOCKET响应
```
* Category
    * 描述：消息类型，Response-响应，Push-推送
    * 类型：Enum
    * 默认值：空
    * 约束：固定值-Response
    * 是否必须：Yes

* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-EditGuide
    * 是否必须：No

* Code
    * 描述：错误码
    * 类型: Int
    * 是否必须：Yes

* Message
    * 描述：错误详细信息
    * 类型: String
    * 是否必须：Yes
```

## 6.19 查询导医信息
#### 描述
```
查询导医信息，普通权限即可访问，同步接口
```

#### WEBSOCKET请求
```
* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-GetGuide
    * 是否必须：Yes

* Cookie
    * 描述：用户cookie
    * 类型：String
    * 默认值：无
    * 约束：由动态后端返回
    * 是否必须：Yes
```

#### WEBSOCKET响应
```
* Category
    * 描述：消息类型，Response-响应，Push-推送
    * 类型：Enum
    * 默认值：空
    * 约束：固定值-Response
    * 是否必须：Yes

* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-GetGuide
    * 是否必须：No

* Code
    * 描述：错误码
    * 类型: Int
    * 是否必须：Yes

* Message
    * 描述：错误详细信息
    * 类型: String
    * 是否必须：Yes

* Guide
    * 描述：导医详细信息
    * 类型: Guide，详见-Guide数据结构
    * 是否必须：Yes
```

## 6.20 新增挂号
#### 描述
```
新增挂号，需要门诊用户权限，同步接口
```

#### WEBSOCKET请求
```
* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-AddRegistration
    * 是否必须：Yes

* DepartmentId
    * 描述：科室ID，要挂哪个科室的号
    * 类型：String
    * 默认值：空
    * 约束：无
    * 是否必须：Yes

* DoctorId
    * 描述：医生用户ID，要挂哪个医生的号
    * 类型：String
    * 默认值：空
    * 约束：无
    * 是否必须：Yes

* Cookie
    * 描述：用户cookie
    * 类型：String
    * 默认值：无
    * 约束：由动态后端返回
    * 是否必须：Yes
```

#### WEBSOCKET响应
```
* Category
    * 描述：消息类型，Response-响应，Push-推送
    * 类型：Enum
    * 默认值：空
    * 约束：固定值-Response
    * 是否必须：Yes

* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-AddRegistration
    * 是否必须：No

* Code
    * 描述：错误码
    * 类型: Int
    * 是否必须：Yes

* Message
    * 描述：错误详细信息
    * 类型: String
    * 是否必须：Yes
```

## 6.21 取消挂号
#### 描述
```
取消挂号，需要门诊用户权限，同步接口
```

#### WEBSOCKET请求
```
* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-RemoveRegistration
    * 是否必须：Yes

* RegistrationId
    * 描述：挂号ID，由动态后端返回
    * 类型：String
    * 默认值：空
    * 约束：无
    * 是否必须：Yes

* Cookie
    * 描述：用户cookie
    * 类型：String
    * 默认值：无
    * 约束：由动态后端返回
    * 是否必须：Yes
```

#### WEBSOCKET响应
```
* Category
    * 描述：消息类型，Response-响应，Push-推送
    * 类型：Enum
    * 默认值：空
    * 约束：固定值-Response
    * 是否必须：Yes

* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-RemoveRegistration
    * 是否必须：No

* Code
    * 描述：错误码
    * 类型: Int
    * 是否必须：Yes

* Message
    * 描述：错误详细信息
    * 类型: String
    * 是否必须：Yes
```

## 6.22 修改挂号
#### 描述
```
修改挂号，需要门诊用户权限，同步接口
```

#### WEBSOCKET请求
```
* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-EditRegistration
    * 是否必须：Yes

* RegistrationId
    * 描述：挂号ID，由动态后端返回
    * 类型：String
    * 默认值：空
    * 约束：无
    * 是否必须：Yes

* DoctorId
    * 描述：医生用户ID，修改后要挂哪个医生的号
    * 类型：String
    * 默认值：空
    * 约束：无
    * 是否必须：Yes

* Cookie
    * 描述：用户cookie
    * 类型：String
    * 默认值：无
    * 约束：由动态后端返回
    * 是否必须：Yes
```

#### WEBSOCKET响应
```
* Category
    * 描述：消息类型，Response-响应，Push-推送
    * 类型：Enum
    * 默认值：空
    * 约束：固定值-Response
    * 是否必须：Yes

* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-EditRegistration
    * 是否必须：No

* Code
    * 描述：错误码
    * 类型: Int
    * 是否必须：Yes

* Message
    * 描述：错误详细信息
    * 类型: String
    * 是否必须：Yes
```

## 6.23 查询所有挂号
#### 描述
```
查询所有挂号，支持门诊用户和医生用户查询，同步接口
```

#### WEBSOCKET请求
```
* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-ListRegistration
    * 是否必须：Yes

* Cookie
    * 描述：用户cookie
    * 类型：String
    * 默认值：无
    * 约束：由动态后端返回
    * 是否必须：Yes
```

#### WEBSOCKET响应
```
* Category
    * 描述：消息类型，Response-响应，Push-推送
    * 类型：Enum
    * 默认值：空
    * 约束：固定值-Response
    * 是否必须：Yes

* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-ListRegistration
    * 是否必须：No

* Code
    * 描述：错误码
    * 类型: Int
    * 是否必须：Yes

* Message
    * 描述：错误详细信息
    * 类型: String
    * 是否必须：Yes

* Registrations
    * 描述：挂号对象列表
    * 类型: Array of Registration，详见-数据结构Registration
    * 是否必须：Yes
```

## 6.24 呼叫挂号
#### 描述
```
呼叫挂号，需要医生用户权限，同步接口
```

#### WEBSOCKET请求
```
* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-CallRegistration
    * 是否必须：Yes

* RegistrationId
    * 描述：挂号ID，由动态后端返回
    * 类型：String
    * 默认值：空
    * 约束：无
    * 是否必须：Yes

* Cookie
    * 描述：用户cookie
    * 类型：String
    * 默认值：无
    * 约束：由动态后端返回
    * 是否必须：Yes
```

#### WEBSOCKET响应
```
* Category
    * 描述：消息类型，Response-响应，Push-推送
    * 类型：Enum
    * 默认值：空
    * 约束：固定值-Response
    * 是否必须：Yes

* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-CallRegistration
    * 是否必须：No

* Code
    * 描述：错误码
    * 类型: Int
    * 是否必须：Yes

* Message
    * 描述：错误详细信息
    * 类型: String
    * 是否必须：Yes
```

#### WEBSOCKET推送
```
* Category
    * 描述：消息类型，Response-响应，Push-推送
    * 类型：Enum
    * 默认值：空
    * 约束：固定值-Push
    * 是否必须：Yes

* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-CallRegistration
    * 是否必须：No

* Code
    * 描述：错误码
    * 类型: Int
    * 是否必须：Yes

* Message
    * 描述：错误详细信息
    * 类型: String
    * 是否必须：Yes

* Registration
    * 描述：挂号对象
    * 类型: Registration，详见-数据结构Registration
    * 是否必须：Yes
```

## 6.25 新增处方
#### 描述
```
开处方，需要医生用户权限，同步接口
```

#### WEBSOCKET请求
```
* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-AddPrescription
    * 是否必须：Yes

* UserId
    * 描述：用户ID
    * 类型：String
    * 默认值：空
    * 约束：无
    * 是否必须：Yes

* Content
    * 描述：处方内容
    * 类型：String
    * 默认值：长度为1-254个字符
    * 约束：无
    * 是否必须：Yes

* Cookie
    * 描述：用户cookie
    * 类型：String
    * 默认值：无
    * 约束：由动态后端返回
    * 是否必须：Yes
```

#### WEBSOCKET响应
```
* Category
    * 描述：消息类型，Response-响应，Push-推送
    * 类型：Enum
    * 默认值：空
    * 约束：固定值-Response
    * 是否必须：Yes

* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-AddPrescription
    * 是否必须：No

* Code
    * 描述：错误码
    * 类型: Int
    * 是否必须：Yes

* Message
    * 描述：错误详细信息
    * 类型: String
    * 是否必须：Yes
```

## 6.26 查询所有处方
#### 描述
```
查询所有处方，支持门诊用户和医生用户查询，同步接口
```

#### WEBSOCKET请求
```
* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-ListPrescription
    * 是否必须：Yes

* Cookie
    * 描述：用户cookie
    * 类型：String
    * 默认值：无
    * 约束：由动态后端返回
    * 是否必须：Yes
```

#### WEBSOCKET响应
```
* Category
    * 描述：消息类型，Response-响应，Push-推送
    * 类型：Enum
    * 默认值：空
    * 约束：固定值-Response
    * 是否必须：Yes

* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-ListPrescription
    * 是否必须：No

* Code
    * 描述：错误码
    * 类型: Int
    * 是否必须：Yes

* Message
    * 描述：错误详细信息
    * 类型: String
    * 是否必须：Yes

* Prescriptions
    * 描述：处方信息列表
    * 类型: Array of Prescription，详见-数据结构Prescription
    * 是否必须：Yes
```

## 6.27 新增费用单
#### 描述
```
新增费用单，需要医生用户权限，同步接口
```

#### WEBSOCKET请求
```
* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-AddCharge
    * 是否必须：Yes

* PrescriptionId
    * 描述：处方ID
    * 类型：String
    * 默认值：空
    * 约束：无
    * 是否必须：Yes

* ExamFee
    * 描述：检查费用
    * 类型：Int
    * 默认值：空
    * 约束：大于等于0
    * 是否必须：Yes

* MedcFee
    * 描述：医药费
    * 类型：Int
    * 默认值：空
    * 约束：大于等于0
    * 是否必须：Yes

* TotalFee
    * 描述：总费用
    * 类型：Int
    * 默认值：空
    * 约束：大于等于0
    * 是否必须：Yes

* Cookie
    * 描述：用户cookie
    * 类型：String
    * 默认值：无
    * 约束：由动态后端返回
    * 是否必须：Yes
```

#### WEBSOCKET响应
```
* Category
    * 描述：消息类型，Response-响应，Push-推送
    * 类型：Enum
    * 默认值：空
    * 约束：固定值-Response
    * 是否必须：Yes

* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-AddCharge
    * 是否必须：No

* Code
    * 描述：错误码
    * 类型: Int
    * 是否必须：Yes

* Message
    * 描述：错误详细信息
    * 类型: String
    * 是否必须：Yes
```

## 6.28 在线支付
#### 描述
```
在线支付，需要门诊用户权限，同步接口
```

#### WEBSOCKET请求
```
* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-OnlinePay
    * 是否必须：Yes

* ChargeId
    * 描述：费用单ID
    * 类型：String
    * 默认值：空
    * 约束：无
    * 是否必须：Yes

* Cookie
    * 描述：用户cookie
    * 类型：String
    * 默认值：无
    * 约束：由动态后端返回
    * 是否必须：Yes
```

#### WEBSOCKET响应
```
* Category
    * 描述：消息类型，Response-响应，Push-推送
    * 类型：Enum
    * 默认值：空
    * 约束：固定值-Response
    * 是否必须：Yes

* Action
    * 描述：操作代码
    * 类型：String
    * 默认值：空
    * 约束：固定值-OnlinePay
    * 是否必须：No

* Code
    * 描述：错误码
    * 类型: Int
    * 是否必须：Yes

* Message
    * 描述：错误详细信息
    * 类型: String
    * 是否必须：Yes
```

## 7 数据结构
### 7.1 User
```
* Id
    * 描述：用户ID，后台随机生成，唯一标识一个用户
    * 类型: String
    * 是否必须: Yes

* Name
    * 描述：登录用户名
    * 类型：String
    * 是否必须：Yes

* Type
    * 描述：用户类型，Doctor-医生用户，Registrar-挂号员，Patient-门诊用户
    * 类型：Enum
    * 是否必须：Yes

* RealName
    * 描述：真实用户名
    * 类型：String
    * 是否必须：Yes

* Description
    * 描述：用户简介，对医生用户有意义
    * 类型：String
    * 默认值：空
    * 约束：支持中文，长度为1-254个字符
    * 是否必须：Yes

* CardNumber
    * 描述：医疗卡号
    * 类型：String
    * 是否必须：Yes
```

### 7.2 Department
```
* Id
    * 描述：科室ID，后台随机生成，唯一标识一个科室
    * 类型: String
    * 是否必须: Yes

* Name
    * 描述：科室名称
    * 类型：String
    * 是否必须：Yes

* Description
    * 描述：科室介绍
    * 类型：String
    * 是否必须：Yes

* Doctors
    * 描述：科室医生列表
    * 类型：Array of User，详见数据结构User
    * 是否必须：Yes
```

### 7.3 Guide
```
* Name
    * 描述：医院名称
    * 类型：String
    * 是否必须：Yes

* Address
    * 描述：医院地址
    * 类型：String
    * 是否必须：Yes

* Phone
    * 描述：热线电话
    * 类型：String
    * 是否必须：Yes

* WebSite
    * 描述：医院网址
    * 类型：String
    * 是否必须：Yes

* WebChat
    * 描述：医院微信公众号
    * 类型：String
    * 是否必须：Yes

* Tips
    * 描述：温馨提示
    * 类型：String
    * 是否必须：Yes

* RoadMap
    * 描述：医院路线图URL
    * 类型：String
    * 是否必须：Yes
```

### 7.4 Registration
```
* Id
    * 描述：挂号ID，后台随机生成，唯一标识一个挂号
    * 类型: String
    * 是否必须: Yes

* UserId
    * 描述：用户ID
    * 类型：String
    * 是否必须：Yes

* DepartmentId
    * 描述：科室ID
    * 类型：String
    * 是否必须：Yes

* DoctorId
    * 描述：医生ID
    * 类型：String
    * 是否必须：Yes

* State
    * 描述：当前状态，Waiting-排队中，Working-正在问诊，Done-问诊结束
    * 类型：Enum
    * 是否必须：Yes
```

### 7.5 Prescription
```
* Id
    * 描述：处方ID，后台随机生成，唯一标识一个处方
    * 类型: String
    * 是否必须: Yes

* UserId
    * 描述：用户ID
    * 类型：String
    * 是否必须：Yes

* DepartmentId
    * 描述：科室ID
    * 类型：String
    * 是否必须：Yes

* DoctorId
    * 描述：医生ID
    * 类型：String
    * 是否必须：Yes

* Content
    * 描述：处方内容
    * 类型：String
    * 是否必须：Yes

* Charge
    * 描述：费用清单
    * 类型：Charge，详见-数据结构Charge
    * 是否必须：Yes
```

### 7.6 Charge
```
* Id
    * 描述：费用单ID，后台随机生成，唯一标识一个费用单
    * 类型: String
    * 是否必须: Yes

* ExamFee
    * 描述：检查费用
    * 类型：Int
    * 是否必须：Yes

* MedcFee
    * 描述：医药费
    * 类型：Int
    * 是否必须：Yes

* TotalFee
    * 描述：总费用
    * 类型：Int
    * 是否必须：Yes

* State
    * 描述：费用单状态，Waiting-待支付，Paid-已支付
    * 类型：Enum
    * 是否必须：Yes
```

## 8 错误码
```
Code	Message

200     The api was called successfully.

401     The request format must be json.
402     The action %s is not supported.
403     The parameter %s is required.
404     The value %s of parameter %s is error.
405     The resource %s already exists.
406     The resource id %s is not found.
407     The system internal exception.
408     The operation is not permitted.
409     The user not exists or password wrong.
410     The doctor already belongs to a department.
411     The doctor do not belongs to the department.
```